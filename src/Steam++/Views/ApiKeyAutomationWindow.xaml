<Window x:Class="SteamPP.Views.ApiKeyAutomationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        mc:Ignorable="d"
        Title="Solus API Key Automation" Height="700" Width="1000"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource PrimaryDarkBrush}"
        Icon="pack://application:,,,/icon.ico">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <StackPanel Grid.Row="0" Background="{DynamicResource SecondaryDarkBrush}" Margin="0">
            <TextBlock x:Name="StatusText" 
                       Text="Initializing..." 
                       Foreground="{DynamicResource TextPrimaryBrush}"
                       Margin="15,10" 
                       FontWeight="SemiBold"
                       FontSize="14"/>
        </StackPanel>
        
        <wv2:WebView2 x:Name="WebView" Grid.Row="1"/>

        <Border Grid.Row="2" Background="{DynamicResource CardBackgroundBrush}" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,1,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="15">
                <Button Content="Clear Cache &amp; Restart" 
                        Click="ClearCacheButton_Click" 
                        Style="{DynamicResource SteamButtonStyle}"
                        Margin="0,0,10,0"/>
                <Button Content="Cancel" 
                        Click="CancelButton_Click" 
                        Style="{DynamicResource SteamButtonStyle}"
                        Background="{DynamicResource DangerBrush}"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
